# 🛡️ THE FOCUS ENFORCER v1.0 - 專注執法者

## 📖 專案簡介
**THE FOCUS ENFORCER** 是一個結合硬體監控與社交懲罰機制的「零信任」專注力強化系統。不同於一般的專注 App 只能在軟體層面提醒，本系統透過實體硬體盒子與多重感測器，強制使用者將手機鎖定或保持在特定區域。

一旦系統偵測到使用者在專注期間違規（如：提前取出手機、離開座位），系統將會立即執行「社交羞辱協定 (Social Shame Protocol)」，將使用者預先上傳的「人質照片」發布至社交平台或傳送給指定聯絡人。

---

## 🚀 核心功能

### 1. 零信任硬體監控 (Zero-Trust Monitoring)
- **狀態機架構**: 6 種硬體狀態 (IDLE → PREPARING → FOCUSING → PAUSED → VIOLATION → ERROR)
- **10 秒準備寬限期**: 開始專注前的緩衝時間，讓使用者安置手機
- **多重感測融合**: 
    - **霍爾感測器 (KY-033)**: 磁性偵測盒蓋開關，即時中斷觸發 (IRAM_ATTR)
    - **毫米波雷達 (LD2410)**: 偵測使用者是否離開座位
- **1602 LCD 顯示**: 本地即時顯示狀態、倒數計時

### 2. 暫停/繼續功能 (v1.0 新增)
- **暫停專注**: 暫時停止監測，不觸發懲罰
- **繼續專注**: 恢復監測狀態
- **前端/硬體同步**: WebSocket 即時狀態同步

### 3. 社交羞辱協定 (Social Shame Protocol)
- **人質系統**: 使用者需在上傳「人質照片」（如：尷尬的自拍、黑歷史照片）作為專注的抵押品
- **自動化懲罰**: 違規時自動透過以下管道發布懲罰：
    - **Threads**: 自動發文並標記
    - **Gmail**: 發送羞辱郵件給親友或老闆
    - **Discord**: 透過 Webhook 在社群頻道公開處刑

### 4. 現代化儀表板
- **即時數據**: 視覺化顯示所有感測器的即時數值
- **硬體狀態機**: 顯示當前硬體狀態 (準備中/專注中/已暫停/違規)
- **模擬模式**: 支援在沒有實體硬體的情況下進行軟體功能測試

---

## 🛠️ 技術架構

### 後端 (Backend)
- **FastAPI**: 高性能的 Python Web 框架
- **Socket.IO**: 實現前端與後端之間的雙向即時通訊
- **Playwright**: 自動化瀏覽器操作，用於 Threads 社交平台發文
- **Asyncio**: 全非同步架構，確保高併發下的穩定性

### 前端 (Frontend)
- **React + TypeScript**: 構建強型別、易維護的使用者介面
- **Tailwind CSS**: 現代化響應式 UI 設計
- **Vite**: 極速的前端開發與打包工具
- **Lucide React**: 精美的圖示庫

### 硬體 (Hardware) - v1.0 規格
- **D1 Mini (ESP8266)**: 核心微控制器
- **霍爾感測器 (KY-033)**: 盒蓋磁性開關偵測 (GPIO0, 中斷)
- **毫米波雷達 (LD2410)**: 人員在座偵測 (SoftwareSerial 256000 baud)
- **1602 I2C LCD**: 本地狀態顯示 (地址 0x27)
- **PlatformIO**: C++ 韌體開發環境

---

## 🎯 目標對象
- **重度手機成癮者**: 需要物理手段強制脫離手機的人
- **國考/大型考試考生**: 需要極致專注環境的學習者
- **IoT 愛好者**: 想要學習硬體與 Web 整合開發的創客
- **拖延症患者**: 需要「恐懼」作為動力的人

---

## 📊 v1.0 硬體狀態機

```
┌─────────────────────────────────────────────────────────────────┐
│                    THE FOCUS ENFORCER v1.0                      │
│                      Hardware State Machine                      │
└─────────────────────────────────────────────────────────────────┘

                            ┌─────────┐
                            │  IDLE   │ ← 初始狀態/停止後
                            └────┬────┘
                                 │ START 指令
                                 ▼
                            ┌─────────┐
                            │PREPARING│ ← 10 秒寬限期
                            └────┬────┘
                                 │ 倒數結束
                                 ▼
     ┌──────────┐           ┌─────────┐           ┌──────────┐
     │  PAUSED  │◄──────────│FOCUSING │───────────►│VIOLATION │
     └────┬─────┘  PAUSE    └────┬────┘  違規偵測  └────┬─────┘
          │                      │                      │
          │ RESUME               │ STOP                 │ ACKNOWLEDGE
          └──────────────────────┼──────────────────────┘
                                 │
                                 ▼
                            ┌─────────┐
                            │  IDLE   │
                            └─────────┘

狀態說明:
  IDLE      - 待機狀態，等待 START 指令
  PREPARING - 準備中，10 秒倒數讓使用者安置手機
  FOCUSING  - 專注中，監測違規行為
  PAUSED    - 已暫停，暫時停止監測
  VIOLATION - 違規狀態，等待確認
  ERROR     - 系統錯誤 (連線中斷、感測器異常)
```

---
